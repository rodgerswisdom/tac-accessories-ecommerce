{% extends "base.html" %}
{% block title %}Shop · tac-ecommerce{% endblock %}
{% block content %}
<div class="flex gap-6">
  <aside class="w-64 hidden md:block">
    <h2 class="font-semibold mb-2">Categories</h2>
    <ul class="space-y-1">
      <li><a class="hover:underline" href="{% url 'catalog:product_list' %}">All</a></li>
      {% for c in categories %}
        <li><a class="hover:underline" href="{% url 'catalog:category' c.slug %}">{{ c.name }}</a></li>
      {% endfor %}
    </ul>
  </aside>

  <section class="flex-1">
    <div class="flex items-center justify-between mb-4">
      <h1 class="text-xl font-semibold">Products</h1>
      <input
        type="search" name="q" placeholder="Search products…"
        class="border rounded px-3 py-2"
        hx-get="{% url 'catalog:product_search' %}" hx-trigger="keyup changed delay:300ms"
        hx-target="#grid" hx-indicator="#searching">
      <span id="searching" class="htmx-indicator text-sm text-gray-500">Searching…</span>
    </div>
    <div id="grid">
      {% include "catalog/_product_grid.html" %}
    </div>
  </section>
</div>
{% endblock %}
